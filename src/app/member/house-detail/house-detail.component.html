<section class="housedetail" id="house-detail">
  <div *ngIf="selectedHouse">
	<div class="alert alert-default alert-dismissible">
	  	<h1>
	  		<span>Student Page</span>
	  		<a href="#" class="close" data-dismiss="alert" aria-label="close" (click)="unSelect(selectedHouse)"><button>Close Class</button></a>
		</h1>
	    <div class="container house-detail">
		<p>{{selectedHouse.description}}</p>				
		<div class="colored-line">
		</div>

	    <div class="row">
	    	<div class="col-sm-6">
			  <ag-studentradar [radarChartLabels] = "selectedHouse.radarChartLabels" [radarChartData] = "selectedHouse.radarChartData"></ag-studentradar>
			</div>
			<br>
			<div class="col-sm-6">
				<div class="row">
					<div class="col-sm-6">
						Course Maxile
					</div>
					<div class="col-sm-6">
						<div class="progress">
							<br />
								<div class="progress-bar" role="progressbar" [style.width.%]="selectedHouse.course_maxile/selectedHouse.target_score*100" aria-valuenow="selectedHouse.skill_passed" aria-valuemin="0" aria-valuemax="100">
								{{selectedHouse.course_maxile/selectedHouse.target_score*100 |number : '1.2-2' }}%
							</div>
						</div>				
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						Accuracy
					</div>
					<div class="col-sm-6">
						<div class="progress">
							<br />
								<div class="progress-bar" role="progressbar" [style.width.%]="selectedHouse.accuracy" aria-valuenow="selectedHouse.accuracy" aria-valuemin="0" aria-valuemax="100">
								{{selectedHouse.accuracy |number : '1.2-2' }}%
							</div>
						</div>				
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						Skills Passed
					</div>
					<div class="col-sm-6">
						<div class="progress">
							<br />
								<div class="progress-bar" role="progressbar" [style.width.%]="selectedHouse.skill_passed/selectedHouse.total_skills*100" aria-valuenow="selectedHouse.skill_passed" aria-valuemin="0" aria-valuemax="100">
								{{selectedHouse.skill_passed/selectedHouse.total_skills*100 |number : '1.2-2' }}%
							</div>
						</div>				
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						Tracks Passed
					</div>
					<div class="col-sm-6">
						<div class="progress">
							<br />
								<div class="progress-bar" role="progressbar" [style.width.%]="selectedHouse.tracks_passed/selectedHouse.total_tracks*100" aria-valuenow="selectedHouse.tracks_passed" aria-valuemin="0" aria-valuemax="100">
								{{selectedHouse.tracks_passed/selectedHouse.total_tracks*100 |number : '1.2-2' }}%
							</div>
						</div>				
					</div>
				</div>
			</div>
	    </div>
	    <br />
		<div class="colored-line">
		</div>
	    <br />
		<div class="row" *ngIf="selectedHouse.tracks?.length>0">
			<div class="col-xs-12">
				<div class="container">
				  <h2>Curriculum</h2>
				  <p>Click on the collapsible panel to open and close tracks.</p>
				  <div class="panel-group">
				    <div class="panel panel-default">
				      <div class="panel-heading" *ngFor="let track of selectedHouse.tracks">
				          <h4 align="left"><a data-toggle="collapse" href="#collapse{{track.id}}">{{track.track}}</a></h4>
					      <div id="collapse{{track.id}}" class="panel-collapse collapse">
					        <div class="panel-body">
								<table class="table table-striped table-condensed">
									<thead>
										<tr>
											<th>Skill</th>
											<th>My Score</th>
											<th>Action</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let skill of track.skills">
											<td>{{skill.skill}}</td>
											<td>
												<div *ngIf ="skill.skill_maxile; else nothing">{{skill.skill_maxile.skill_maxile}}</div>
												<ng-template #nothing align="left">0</ng-template>
											</td>
											<td>
												<div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
													<div class="btn-group" role="group" aria-label="First group">
														<button type="button" class="m-btn btn btn-quiz">
															Quiz
														</button>
						<button (click)="onVideo(skill)" type="button" class="m-btn btn btn-video" data-toggle="modal" data-target="#myModal">Video</button>
													</div>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
					        </div>
					    </div>
				    </div>
				  </div>
				</div>
		    </div>
	    	</div>
	  	</div>
	  </div>

	</div>
</div>
</section>